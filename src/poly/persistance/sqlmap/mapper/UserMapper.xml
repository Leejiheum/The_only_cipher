<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="poly.persistance.mapper.UserMapper">
	<!-- 회원가입 -->
	<insert id="insertUserDTO" parameterType="UserDTO">
		INSERT INTO USER
		(
		user_id,
		user_pw,
		user_phone,
		user_date,
		reg_dt,
		active
		)
		VALUES
		(
		#{user_id},
		#{user_pw},
		#{user_phone},
		#{user_date},
		now(),
		y
		)
	</insert>
	<!-- 로그인 -->
	<select id="getUserLogin" parameterType="UserDTO"
		resultType="UserDTO">
		SELECT
		user_no,
		user_id,
		user_pw,
		user_phone,
		user_date,
		reg_dt,
		active
		FROM USER
		WHERE user_id=#{user_id}
	</select>
	<!-- 아이디 중복확인 -->
	<select id="getIdCheck" parameterType="UserDTO" resultType="string">
		SELECT COUNT(*)
		FROM USER
		WHERE USER_ID = #{user_id}
	</select>
</mapper>